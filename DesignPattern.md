# DesignPattern 

## 1.引言

### 1.1什么是设计模式

​	模式就是描述我们周围不断发生的问题，以及该问题解决方案的核心。

**模式名**：他用一两个词来描述模式的问题、解决方案、和效果。

**问题**：描述了应该在何时使用模式。它解释了设计问题和问题存在的前因后果。

**解决方案**：描述了设计的组成成分、他们之间的相互关系及各自的职责和写作方式。它是一个模版可以应用在各种不同的场景里。但是并不是某一个具体的设计和实现。

**效果**：描述了模式应用的效果和使用模式应权衡的问题。

### 1.2Smalltalk MVC中的设计模式

​	MVC指的是类的模型、视图、控制器（model、view、Controller）三元组，被用来构建用户界面。透过三元组这个结构可以帮我们将对象之间分离以提高灵活性和复用性。

​	model就是应用对象，view就是它在屏幕上的表示，控制器就是定义用户界面对用户输入的响应方式。

​	MVC通过建立一个“订购/通知”协议来分离视图和模型。视图必须保证正确反应模型的状态。一旦模型的数据发生变化，模型将通知有关视图，每个视图相应的得到刷新自己的机会。

​	下图显示了一个模型和三个视图（为了简单我们先省略控制器）。模型包含一些数据，当模型数据发生变化时，它就通知视图，而视图将与模型通信以获得这些数据。<img src=".\asset\Snipaste_2025-10-07_00-52-43.png" alt="Snipaste_2025-10-07_00-52-43" style="zoom:80%;" />

​	表面上看，这个例子反映了将视图和模型分离的设计，然而这个设计还可以用于解决更一般的问题：将对象分离，使得一个对象的改变能够影响另一些对象，而这个对象并不需要知道那些被影响对象的细节。这种设计被描述为Observeer模式（观察者模式）。

​	MVC的另一个特征就是视图可以嵌套。例如，按钮控制面板可以用一个嵌套了按钮的复杂视图来实现。

​	上例反映了可以将组合视图与其构建平等对待的设计，同样该设计也用于更一般的问题：将一些对象划分为组，并将该组对象当做一个对象来使用。这个设计被描述为Composite模式，该模式允许你创建一个类层次结构，一些子类定义了原子对象而其他类定义了组合对象，这些组合对象是由原子对象组合而成的更复杂的对象。

​	MVC允许你在不改变视图外观的情况下改变视图对用户输入的响应方式。例如，你可能希望改变视图对键盘的响应方式，或希望使用弹出菜单而不是原来的命令键方式。MVC将相应机制封装在Controller中。存在着一个Controller的类层次结构，使得可以方便地对原有Controller做适当改变而创建新的Controller。

​	

​	